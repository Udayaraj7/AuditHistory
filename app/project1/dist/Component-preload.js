//@ui5-bundle project1/Component-preload.js
sap.ui.predefine("project1/Component", ["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("project1.Component",{metadata:{manifest:"json"}})});
sap.ui.predefine("project1/ext/controller/CustomerObject.controller", ["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("project1.ext.controller.CustomerObject",{override:{onInit:function(){let e=sap.ui.core.Element.getElementById("project1::CustomerObjectPage--fe::CustomAction::history");e.setIcon("sap-icon://work-history");if(e){e.addStyleClass("historyBtn")}}}})});
sap.ui.predefine("project1/ext/controller/History", ["sap/m/Dialog","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/m/Text","sap/m/Button"],function(e,t,n,o,r,a){"use strict";let s,d,u;return{onHistoryClick:function(i,c){debugger;const l=i;if(!l)return;const m=l.getProperty("customerId");var w=[];$.ajax({url:"/odata/v4/myservice/AuditHistoryCustomer?$filter=customerId eq '"+m+"'",type:"GET",contentType:"application/json",success:function(e){w=e.value;w.sort(function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)});if(d){d.destroyItems()}w.forEach(e=>{const t=new Date(e.createdAt);const n=t.getDate().toString().padStart(2,"0");const o=t.toLocaleString("default",{month:"short"});const r=t.getFullYear();const a=t.getHours().toString().padStart(2,"0");const s=t.getMinutes().toString().padStart(2,"0");e.createdAtFormatted=`${n}-${o}-${r} ${a}:${s}`});var t=new sap.ui.model.json.JSONModel({records:w});d.setModel(t);d.bindItems({path:"/records",template:u})},error:function(e,t,n){console.error("Error fetching customer:",t,n)}});if(!s){s=new e({title:"Customer Audit History",contentWidth:"70%",resizable:true,draggable:true,endButton:new a({text:"Close",press:()=>s.close()})});d=new t({growing:true,growingScrollToLoad:true,noDataText:"No Audit history Found "});d.addColumn(new n({header:new r({text:"Name"})}));d.addColumn(new n({header:new r({text:"Email"})}));d.addColumn(new n({header:new r({text:"Phone"})}));d.addColumn(new n({header:new r({text:"Address"})}));d.addColumn(new n({header:new r({text:"Edited At"})}));u=new o({cells:[new r({text:"{customerName}"}),new r({text:"{email}"}),new r({text:"{phoneNumber}"}),new r({text:"{address}"}),new r({text:"{createdAtFormatted}"})]});s.addContent(d)}s.open()}}});
sap.ui.require.preload({
	"project1/i18n/i18n.properties":'# This is the resource bundle for project1\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=App Title\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n\n#XFLD,30\nsemi1-Display.flpTitle=title1\n',
	"project1/manifest.json":'{"_version":"1.76.0","sap.app":{"id":"project1","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.20.0","toolsId":"045283a3-7bf7-4bb0-a830-5006fd4bea2b"},"dataSources":{"mainService":{"uri":"/odata/v4/myservice/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"semi1-Display":{"semanticObject":"semi1","action":"Display","title":"{{semi1-Display.flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.143.2","libs":{"sap.m":{},"sap.ui.core":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"project1.i18n.i18n","supportedLocales":[""]}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties","settings":{"supportedLocales":[""]}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{},"routes":[{"pattern":":?query:","name":"CustomerList","target":"CustomerList"},{"pattern":"Customer({key}):?query:","name":"CustomerObjectPage","target":"CustomerObjectPage"}],"targets":{"CustomerList":{"type":"Component","id":"CustomerList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/Customer","variantManagement":"Page","navigation":{"Customer":{"detail":{"route":"CustomerObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"ResponsiveTable"}}}}}},"CustomerObjectPage":{"type":"Component","id":"CustomerObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Customer","controlConfiguration":{"@com.sap.vocabularies.UI.v1.FieldGroup#GeneratedGroup":{"actions":{"history":{"press":"project1.ext.controller.History.onHistoryClick","visible":true,"enabled":true,"position":{"placement":"Before"},"text":"History"}}}}}}}}},"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.fe.templates.ObjectPage.ObjectPageController#project1::CustomerObjectPage":{"controllerName":"project1.ext.controller.CustomerObject"}}}},"flexBundle":false},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"app1"}}'
});
//# sourceMappingURL=Component-preload.js.map
